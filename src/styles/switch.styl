@require './animation'

$base = '.tu-switch'
// 2px 表示 Switch 的边距

{$base}
  border none
  cursor pointer
  min-width calc(var(--tu-switch-height) * 2)
  height var(--tu-switch-height)
  border-radius calc(var(--tu-switch-height) / 2)
  background-color var(--tu-switch-bg-color)
  position relative
  padding 0
  transition var(--tu-bg-color-transition), var(--tu-box-shadow-transition)
  --ripple-color var(--tu-color-primary)
  &:focus
    outline none
    box-shadow var(--tu-wave-box-shadow)
  &:hover
    box-shadow none
  &:active
    {$base}__core
      width calc(var(--tu-switch-core-height) + var(--tu-switch-unfold))

  &__wrap
    display inline-flex
    position relative
    min-width calc(var(--tu-switch-height) * 2)
    height var(--tu-switch-height)
    overflow hidden
    border-radius inherit

  &__content
    height 200%
    display flex
    flex-direction column
    overflow hidden
    position relative
    padding 0 var(--tu-switch-padding)
    border-radius inherit

  &__checked, &__unchecked
    color #fff
    display flex
    align-items center
    height var(--tu-switch-height)
    transition transform var(--tu-transition-time)
    padding-right calc(var(--tu-switch-core-height) - var(--tu-switch-padding) + 2px + var(--tu-switch-unfold) + 2px)
  &__checked
    transform translateX(-100%)

  &__core
    width var(--tu-switch-core-height)
    height var(--tu-switch-core-height)
    border-radius calc(var(--tu-switch-core-height) / 2)
    background-color #fff
    box-shadow 0 2px 4px #00230b33
    position absolute
    top 2px
    left 2px
    transition left var(--tu-transition-time), margin-left var(--tu-transition-time), width var(--tu-transition-time)

  &__core-unchecked
    height var(--tu-switch-height)
    padding-left var(--tu-switch-unfold)
    display flex
    align-items: center;
    white-space: nowrap;
    position absolute
    top -2px
    left calc(var(--tu-switch-core-height) + 2px)

  &{$base}--checked
    background-color var(--tu-switch-active-bg-color)
    {$base}__core
      left calc(100% - var(--tu-switch-height) + 2px)
    {$base}__core-unchecked
      transition left var(--tu-transition-time)

    &:focus
      box-shadow var(--tu-wave-active-box-shadow)
    &:hover
      box-shadow none
    &:active
      {$base}__core
        width calc(var(--tu-switch-core-height) + var(--tu-switch-unfold))
        margin-left calc(var(--tu-switch-unfold) * -1)
      {$base}__core-unchecked
        left calc(var(--tu-switch-core-height) + var(--tu-switch-unfold) + 2px)

    {$base}__checked
      transform translateX(0)

  &.is-square
    border-radius 3px
    {$base}__core
      border-radius 3px

  &--small
    min-width calc(var(--tu-switch-small-height) * 2)
    height var(--tu-switch-small-height)
    border-radius calc(var(--tu-switch-small-height) / 2)
    --tu-switch-height var(--tu-switch-small-height)
    --tu-switch-padding 10px
    --tu-switch-core-height calc(var(--tu-switch-small-height) - 4px)
    --tu-switch-unfold 4px

    &{$base}--checked > {$base}__core
      left calc(100% - var(--tu-switch-small-height) + 2px)

  &--large
    min-width calc(var(--tu-switch-large-height) * 2)
    height var(--tu-switch-large-height)
    border-radius calc(var(--tu-switch-large-height) / 2)
    --tu-switch-height var(--tu-switch-large-height)
    --tu-switch-padding 14px
    --tu-switch-core-height calc(var(--tu-switch-large-height) - 4px)
    --tu-switch-unfold 6px

    &{$base}--checked > {$base}__core
      left calc(100% - var(--tu-switch-large-height) + 2px)

